(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{3483:function(e,n,t){Promise.resolve().then(t.bind(t,9089))},1231:function(e,n,t){"use strict";let o;t.d(n,{Z:function(){return u}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let s=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));var u=function(e,n,t){if(r.randomUUID&&!n&&!e)return r.randomUUID();let u=(e=e||{}).random||(e.rng||function(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)})();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n){t=t||0;for(let e=0;e<16;++e)n[t+e]=u[e];return n}return function(e,n=0){return i[e[n+0]]+i[e[n+1]]+i[e[n+2]]+i[e[n+3]]+"-"+i[e[n+4]]+i[e[n+5]]+"-"+i[e[n+6]]+i[e[n+7]]+"-"+i[e[n+8]]+i[e[n+9]]+"-"+i[e[n+10]]+i[e[n+11]]+i[e[n+12]]+i[e[n+13]]+i[e[n+14]]+i[e[n+15]]}(u)}},9089:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var o=t(7437),r=t(2265),s=t(1231);function i(){let[e,n]=(0,r.useState)(""),[t,i]=(0,r.useState)(null),[u,c]=(0,r.useState)(""),[d,l]=(0,r.useState)([]),[a,f]=(0,r.useState)("CONTENT");function p(n){"Enter"===n.key&&h(e)}function h(e){e&&""!==e&&(t.send(JSON.stringify({messageType:a,message:e,user:{id:u}})),y(e,u),n(""))}function m(e){let n=JSON.parse(e.data),t=n.messageType,o=n.message,r=n.user.id;"CONTENT"===t?y(o,r):"CONNECTION"===t?y("님이 접속하셨습니다.",r):"DISCONNECTION"===t&&y("님이 나가셨습니다.",r)}function g(e){console.log("handleCloseEvent",e),window.location.reload()}function y(e,n){let t=[...d.reverse()];t.push({content:e,senderId:n}),l(t.reverse())}return(0,r.useEffect)(()=>{t&&(window.onkeyup=null,window.onkeyup=p)},[t,e]),(0,r.useEffect)(()=>{t&&(t.onmessage=m,t.onclose=g)},[t,d]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Hello, chat"}),u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:["현재 모드: ",a]}),(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsx)("input",{value:e,onChange:e=>n(e.target.value),type:"text"}),(0,o.jsx)("button",{onClick:n=>h(e),children:"보내기"}),"CONTENT"===a?(0,o.jsx)("button",{onClick:e=>f("TRANSLATE"),children:"모드바꾸기"}):(0,o.jsx)("button",{onClick:e=>f("CONTENT"),children:"모드바꾸기"})]}),(0,o.jsx)("div",{children:d.map((e,n)=>(0,o.jsxs)("div",{style:e.senderId===u?{marginBottom:"10px",backgroundColor:"lightgreen"}:{marginBottom:"10px",backgroundColor:"lightblue"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("b",{children:e.senderId}),":"]}),(0,o.jsx)("div",{children:e.content})]},n))})]}):(0,o.jsx)("button",{onClick:function(){let e=(0,s.Z)();i(new WebSocket("wss://123qweasd.com/ws?userId=".concat(e))),c(e)},children:"채팅방가기"})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=3483)}),_N_E=e.O()}]);